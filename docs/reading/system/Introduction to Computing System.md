
## 计算机系统概论
### 引言
* 计算机是非常“确定”的一个系统，即在任何时候，在相同的方法，相同的状态下（当然包括相同的起始条件）， 同样的问题必然获得相同的结果。
* 在本书中，有两个理念将反复出现并反复强调，一是“抽象”， 而是“在脑子里不要对硬件和软件做任何区分”。
* 学会抽象是重要的进步，它让我们学会站在更高的层次看问题，从而将事物的本质表现出来，而将其中的细节隐藏起来。抽象能提高我们的思考效率，换句话说，忽略抽象之下的细节，会让我们更有效率。
* 处理器的设计者如果懂得运行在处理器之上的程序需求，那么多设计的处理器必然比那些不懂的人所设计的处理器更快。如Intel为此剔除的MMX指令集及MMX专用执行硬件，而Motorola和Apple也做了类似的工作，如果AltaVec指令集及其硬件。
* 懂硬件特性的软件设计师所设计的程序，其运行性能远高于那些不懂硬件的人所涉及的程序。
* 所有的计算机（不管是小的、大的、贵的、便宜的）只要给与足够多的时间和内存，他们能完成的计算任务是相同的。
* 在现代计算机出现之前，曾出现过很多能够计算的机器，比如模拟机(机械手表)，算盘，称和电子称，加法器等，用于特定场合的计算；而图灵的伟大之处在于他想要去寻找一种设备能做所有的计算（寻找计算领域的上帝，也就是计算的可定义【可约束】），那么他就需要了解人类历史上所有的计算行为与方法来进行抽象和总结。
* 图灵指出,任何计算都可以通过某种图灵机来完成。这也就是IO模型的原型吧, ![image](./assets/20200831110750.png)
* 自然语言中含有太多的二义性，不同的音调和场合，上下文不同，同样一句话会有不同的含义和理解，这对计算机而言是不可接受的
* 计算机算法的三个特性：确定性，可计算性，有限性
* 指令集结构(ISA, instruction set architecture)是计算机硬件和程序之间的一个完整定义。
### 数据类型&运算
* ISA首先定义支持的数据类型，然后再定义这些类型支持的操作方法
* 位值法(positional notation)，位置代表了权重
* 浮点数： 科学计数法、大数，比如π这种无限不循环小数，无理数计算机是无法表示完全的吧【？此处有疑问】, IEEE浮点数的radix为2，科学计数法的radix为10
* 该章介绍的是信息在计算机中的表示方式
### 数字逻辑
* MOS: 金属氧化物半导体(Metal-oxide semiconductor)
* n-Mos + p-Mos = CMOS(互补金属氧化物半导体)
* And Gate, Or Gate, Not Gate ![image](./assets/logic-gate.png)


### 边走边想
* 软件与CPU的接口是指令集（软件与CPU之间的协议，编译器就是把高级语言翻译为指令集的形式）
* 硬件与软件有点像物质与精神，精神是基于大脑的神经系统才能存在的。
* 测量也是一种计算
* 计算无处不在，关键在于计算的精度与规模，所以计算机是一件关于“计算”的事情
* 本书是打算从人的实际问题到底层计算的运转打通
* 数字化是一种数学抽象，电子表，电子称，机械表
* 任何抽象化的信息需要指明抽象对应的信息类型，比如int float在内存中的布局的解释，协议传输过程中的信息解释
* CPU的晶体管就像人类的脑细胞，需要处理大量的数据，但是CPU的处理是以晶体管为基础的，只能表现0&1两个值，来模拟出来大千世界。


### 引用
* 晶体管
```
半导体说的是硅单质，工厂把硅提纯以后变成一个圆盘，称为晶元（wafer）；

晶体管：transistor, 晶体管（transistor）是使用半导体材料制造的通过一个量（电流或者电压，也就是场效应）控制另外一个量（电流或者电压）的元件，晶体管和电阻电容电感等无源（passive）器件的区别在于其通过一个端口控制另外一个端口，所以输入输出时分开的（二极管diode和无源器件都是同一个端口上的两个量之间相互相关）。工厂通过各种离子注入到晶元wafer里面，就可以在晶片上形成一个MOS管。晶体管可独立包装或在一个非常小的的区域，可容纳一亿或更多的晶体管集成电路的一部分

芯片（chip）是在一块半导体晶圆（wafer）上集成了很多晶体管，二极管以及其他无源器件的元件;
在晶圆上在进行封装就是常看到的黑黑的塑料芯片。

cpu里执行指令计算的是最基本的功能，在这里面，复杂指令机不同的指令分解开了就是一系列微命令，精简指令大多都是直接电路执行。这些不仅仅是执行存回这么简单的过程，而是执行步骤每一步都有不同功能电路配合，例如：取指、执行、发射、回写。就单单一步里，例如取指，就要涉及IR、DR、AR、PC模块。
一般CPU有上千条指令，有些指令，如浮点数运算等还是挺复杂的。这些指令的存储，读取，编译，执行，以及所需控制逻辑要消耗大量晶体管。另外cache也占了很大一部分晶体管。即使不考虑多核，CPU也在更新换代，人们会设计新的，更优化的体系架构，如增加并行化，一次处理多条指令；增加预测功能，如分支预测，指令预测/预取；乱序执行；更好的调度系统。虽然都是CPU，但你看看CPU的频率，处理能力是越来越强，这些都是靠大量晶体管堆积起来的。
```
* 摩尔定律
```
摩尔定律，即当价格不变时，集成电路上可容纳的晶体管数目，约每隔18个月便会增加一倍，性能也将提升一倍。
```