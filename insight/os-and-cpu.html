<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简单说一下CPU和OS的关系 | 吹风的坚果</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.280e3266.css" as="style"><link rel="preload" href="/assets/js/app.a58d46cf.js" as="script"><link rel="preload" href="/assets/js/2.fe1eedfa.js" as="script"><link rel="preload" href="/assets/js/11.bfaecfdb.js" as="script"><link rel="prefetch" href="/assets/js/10.cfd8ec07.js"><link rel="prefetch" href="/assets/js/12.3d5b7b8a.js"><link rel="prefetch" href="/assets/js/13.ba32c4a8.js"><link rel="prefetch" href="/assets/js/14.20c0ad27.js"><link rel="prefetch" href="/assets/js/15.dd93f4bb.js"><link rel="prefetch" href="/assets/js/16.357888f8.js"><link rel="prefetch" href="/assets/js/17.c18c107c.js"><link rel="prefetch" href="/assets/js/18.dd58a776.js"><link rel="prefetch" href="/assets/js/19.cd2f9a46.js"><link rel="prefetch" href="/assets/js/20.0a808641.js"><link rel="prefetch" href="/assets/js/21.66e28aad.js"><link rel="prefetch" href="/assets/js/22.f5987e31.js"><link rel="prefetch" href="/assets/js/23.10b4c64e.js"><link rel="prefetch" href="/assets/js/24.b400c0b1.js"><link rel="prefetch" href="/assets/js/25.5eae1d63.js"><link rel="prefetch" href="/assets/js/26.f2235e62.js"><link rel="prefetch" href="/assets/js/27.4d4233f6.js"><link rel="prefetch" href="/assets/js/28.d311b5aa.js"><link rel="prefetch" href="/assets/js/29.cb91b13f.js"><link rel="prefetch" href="/assets/js/3.11390a21.js"><link rel="prefetch" href="/assets/js/4.748295fe.js"><link rel="prefetch" href="/assets/js/5.55b94567.js"><link rel="prefetch" href="/assets/js/6.2fd028ab.js"><link rel="prefetch" href="/assets/js/7.12865be8.js"><link rel="prefetch" href="/assets/js/8.70384bac.js"><link rel="prefetch" href="/assets/js/9.fbfaf7b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.280e3266.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">吹风的坚果</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/protocol/" class="nav-link">
  协议
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  读书
</a></div><div class="nav-item"><a href="/insight/" class="nav-link router-link-active">
  浅见
</a></div><div class="nav-item"><a href="/cncf/" class="nav-link">
  云原生
</a></div><div class="nav-item"><a href="/security/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/alg/" class="nav-link">
  算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/protocol/" class="nav-link">
  协议
</a></div><div class="nav-item"><a href="/book/" class="nav-link">
  读书
</a></div><div class="nav-item"><a href="/insight/" class="nav-link router-link-active">
  浅见
</a></div><div class="nav-item"><a href="/cncf/" class="nav-link">
  云原生
</a></div><div class="nav-item"><a href="/security/" class="nav-link">
  安全
</a></div><div class="nav-item"><a href="/alg/" class="nav-link">
  算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>浅见</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/insight/va-2-pa.html" class="sidebar-link">用虚拟地址如何找到物理地址</a></li><li><a href="/insight/mem-2-cache.html" class="sidebar-link">内存和缓存的如何聊天</a></li><li><a href="/insight/hdd-2-mem.html" class="sidebar-link">磁盘和内存如何聊天</a></li><li><a href="/insight/kafka.html" class="sidebar-link">kafka 一篇入魂</a></li><li><a href="/insight/os-and-cpu.html" aria-current="page" class="active sidebar-link">简单说一下CPU和OS的关系</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="简单说一下cpu和os的关系"><a href="#简单说一下cpu和os的关系" class="header-anchor">#</a> 简单说一下CPU和OS的关系</h1> <p>想象在19世纪或者更早的时候出现的机械计算机，即使计算一个乘法也需要一个庞大的设备，比如这个莱布尼茨发明的可计算乘除法的手摇机械计算机，<br></p> <p><img src="/assets/img/v2-3700f68a52e49c403bdb36477990ed79~resize_1440_q75.6fb9fece.png" alt="v2-3700f68a52e49c403bdb36477990ed79~resize_1440_q75"></p> <p>或者这个<br> <img src="/assets/img/v2-9aed87ffbaaaab1e223c70d9b8cd1403~resize_1440_q75.96ae6940.png" alt="v2-9aed87ffbaaaab1e223c70d9b8cd1403~resize_1440_q75"></p> <p>或者第一台电子三极管计算机<br> <img src="/assets/img/v2-7079e5eb713c98225b43ef31e9715a00~resize_1440_q75.2757b3d6.png" alt="v2-7079e5eb713c98225b43ef31e9715a00~resize_1440_q75"></p> <p>一直到intel的这个<br> <img src="/assets/img/v2-02d3a21b133bbb1155a6bad5417acb2c~resize_1440_q75.049974c2.png" alt="v2-02d3a21b133bbb1155a6bad5417acb2c~resize_1440_q75"></p> <p>，事实上，只要你有一种工具能够表示数字并且能够自动计算，你就可以发明一个计算机。</p> <p>ok，假设现在你有个一个计算机，你也只能计算一些纯粹的数字，仅仅是停留在数学意义上，不能表达这个世界，而先驱们的野心可不止让计算机停留在数学层面，他们想使用计算机来表达整个世界，就像数学家想用一个公式来解释世界一样简单，一样完美。因为会遇到类似下面的问题:
比如有一天，你老板今天让你实现一个实现自动计算计算工资的功能，你说别慌，我先去定制个计算机，花了一个月实现了；
然后又说，需要一个计算公司运营成本的功能，你说别慌，我先去定制个计算机，需要一个月，这样非常麻烦。
当然也可以堆硬件堆出来，比如显卡、声卡、网卡、FPGA等专业芯片，或者硬件大佬们自己鼓捣的玩意。毕竟软件能做的硬件都能做，但是成本可能巨高。
为了让计算能够实现更多的功能，于是就有了将计算进行抽象的硬件，将基础运算都集成到一个电路板上，你要计算，ok，可以，只要给我计算指令就行了，至于这个指令上面是计算什么或者表示什么，是个图片，是个声音，亦或是个符号，I don't care，计算机只管拉磨。
<img src="/assets/img/v2-05f42456c83608284ff4c28a2f3da976~resize_1440_q75.29417d0c.png" alt="v2-05f42456c83608284ff4c28a2f3da976~resize_1440_q75"></p> <p>好像一切都好了，可是实际情况是，有的时候一个公司一个组织才有一个计算机，如果分开使用呢，或者同时使用呢，这个时候就需要一个上帝来调度和分配这些任务，于是OS来了。OS会根据将交给它的任务进行都调度到cpu上去执行，至于咋执行，os说了算。
随着时间的推进，OS被赋予了越来越多的功能，但是它的基本功能还是物理资源的大管家,
<img src="/assets/img/v2-c1706d8d63646d9bcfcc57c4ab7d247a~resize_1440_q75.5b45a141.png" alt="v2-c1706d8d63646d9bcfcc57c4ab7d247a~resize_1440_q75"></p> <ul><li>给cpu派活，或者告诉cpu我要执行哪些指令</li> <li>打断cpu的工作，cpu不能一直傻傻一直干，使用的人要交互啊，就像你老板随时要打断你工作一样，支持鼠标、键盘、网卡等各种IO设备。</li> <li>支持多个人同时使用，即多用户操作系统，有些OS可能不需要多人操作</li> <li>门卫，保护计算机不被坏人破坏，大致cpu不能工作，各种安全设置。</li></ul> <p>家用PC、服务器、车载、军用等cpu或者os，他们的基本任务都是干这些的，也都要遵循一定的硬件规范，也就是操作系统和CPU或者硬件之间得配合，这就是x86或者arm架构等实现的，这些架构规定了os的使用方式与规范。
总的来说，CPU提供了计算硬件资源和计算规范，OS根据这些规范来调度和分配资源，OS是计算机提供的虚拟世界与硬件之间的中间商。</p> <p><img src="/assets/img/v2-b70fb5c7322ddbc52de2bf474e56add1~resize_1440_q75.9db5a8eb.png" alt="v2-b70fb5c7322ddbc52de2bf474e56add1~resize_1440_q75"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/insight/kafka.html" class="prev">
        kafka 一篇入魂
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a58d46cf.js" defer></script><script src="/assets/js/2.fe1eedfa.js" defer></script><script src="/assets/js/11.bfaecfdb.js" defer></script>
  </body>
</html>
