(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{554:function(t,e,r){t.exports=r.p+"assets/img/20201013195858.b08278a2.png"},555:function(t,e,r){t.exports=r.p+"assets/img/1_sSuuWFeLpwVZIPuNSoAiyQ.b12bae58.png"},556:function(t,e){t.exports="data:image/png;base64,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"},557:function(t,e,r){t.exports=r.p+"assets/img/v2-1ed5b79aa7ac2e9cd66c83690fdbfcf0_720w.1ed5b79a.jpg"},686:function(t,e,r){"use strict";r.r(e);var a=r(26),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"bloom-filter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bloom-filter"}},[t._v("#")]),t._v(" bloom filter")]),t._v(" "),a("ul",[a("li",[t._v("1970年被布隆提出来的")]),t._v(" "),a("li",[t._v("属于 Probabilistic Data structures，概率型数据结构")]),t._v(" "),a("li",[t._v("Bloom filter is all about testing Membership in a set.")]),t._v(" "),a("li",[t._v("The classic example of using bloom filters is to reduce expensive disk (or network) lookups for non-existent keys.")]),t._v(" "),a("li",[t._v("时间复杂度O(k), k为哈希的次数")]),t._v(" "),a("li",[t._v("解决大数据量带来的时间复杂度和空间复杂度的膨胀问题，即将查询问题拉向了一个极端")])]),t._v(" "),a("h2",{attrs:{id:"操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[t._v("#")]),t._v(" 操作")]),t._v(" "),a("ul",[a("li",[t._v("add")]),t._v(" "),a("li",[t._v("test")]),t._v(" "),a("li",[t._v("不支持remove，如需要支持remove，需要使用count bloom filter(其实就是不使用二进制而是用整型来记录每个哈希的结果)")])]),t._v(" "),a("h2",{attrs:{id:"特征"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特征"}},[t._v("#")]),t._v(" 特征")]),t._v(" "),a("h4",{attrs:{id:"判断特征"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判断特征"}},[t._v("#")]),t._v(" 判断特征")]),t._v(" "),a("ul",[a("li",[t._v("可能在")]),t._v(" "),a("li",[t._v("一定不在")])]),t._v(" "),a("h4",{attrs:{id:"缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[t._v("#")]),t._v(" 缺点")]),t._v(" "),a("ul",[a("li",[t._v("元素无法删除")]),t._v(" "),a("li",[t._v('在判断"存在"的时候可能误判')])]),t._v(" "),a("h2",{attrs:{id:"principle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#principle"}},[t._v("#")]),t._v(" principle")]),t._v(" "),a("ul",[a("li",[t._v("不使用加密型的哈希函数，使用计算复杂度比较低的哈希算法，比如MurmurHash, FVN, HashMix")]),t._v(" "),a("li",[t._v("为了降低冲突的概率，需要多次计算哈希")]),t._v(" "),a("li",[t._v("当一个元素被加入集合时，通过K个散列函数将这个元素映射成一个位数组中的K个点，把它们置为1。检索时，我们只要看看这些点是不是都是1就（大约）知道集合中有没有它了：如果这些点有任何一个0，则被检元素一定不在；如果都是1，则被检元素很可能在。")]),t._v(" "),a("li",[t._v("示意图\n"),a("img",{attrs:{src:r(554),alt:"示意"}})]),t._v(" "),a("li",[t._v("hash的次数与冲突的关系\n"),a("img",{attrs:{src:r(555),alt:"hash-k"}})])]),t._v(" "),a("h2",{attrs:{id:"应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),a("h4",{attrs:{id:"特征-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特征-2"}},[t._v("#")]),t._v(" 特征")]),t._v(" "),a("ul",[a("li",[t._v("数据量大但是对准确性有一定的容忍度")]),t._v(" "),a("li",[t._v('判断"存在"，不是判断"不存在"')])]),t._v(" "),a("h4",{attrs:{id:"具体场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#具体场景"}},[t._v("#")]),t._v(" 具体场景")]),t._v(" "),a("ul",[a("li",[t._v("大数据中广告等业务对DAU等准确性要求不是很高的实时统计场景")]),t._v(" "),a("li",[t._v("反垃圾邮件，从数十亿个垃圾邮件列表中判断某邮箱是否垃圾邮箱")]),t._v(" "),a("li",[t._v("在网络爬虫里，一个网址是否被访问过")]),t._v(" "),a("li",[t._v("字处理软件中，需要检查一个英语单词是否拼写正确")]),t._v(" "),a("li",[t._v("在 FBI，一个嫌疑人的名字是否已经在嫌疑名单上")]),t._v(" "),a("li",[t._v("缓存穿透问题(大量请求躲过redis的判断而流入到数据库，一般是恶意请求或者缓存失效)，所以在redis前置过滤器")]),t._v(" "),a("li",[t._v("抖音推荐功能")])]),t._v(" "),a("h2",{attrs:{id:"最优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最优化"}},[t._v("#")]),t._v(" 最优化")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("重要参数: 容量m，哈希的个数k，容忍的误判率p，样本的个数预估n")])]),t._v(" "),a("li",[a("p",[t._v("关于最优值的求解，可以参考下面的引用，这里给出结论")]),t._v(" "),a("p",[t._v("p的计算公式")]),t._v(" "),a("p",[a("img",{attrs:{src:r(556),alt:"误判率的计算"}})]),t._v(" "),a("p",[t._v("m和k的合适值")]),t._v(" "),a("p",[a("img",{attrs:{src:r(557),alt:"合适的值"}})]),t._v(" "),a("p",[t._v("通过p的计算公式计算出来k的最优值，然后将k带入到p的公式中，算出m的最优值")])]),t._v(" "),a("li",[a("p",[t._v("所以最优值是一个状态，几个变量都有唯一的值与之对应； 这个最优值的点就是"),a("strong",[t._v("p对k的一阶导数为0的时候")])])])]),t._v(" "),a("h2",{attrs:{id:"bitmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitmap"}},[t._v("#")]),t._v(" bitmap")]),t._v(" "),a("ul",[a("li",[t._v("相同处，都是用bit来存储信息")]),t._v(" "),a("li",[t._v("不同处，bitmap的key不需要哈希转换，可以直接用于访问数据")])]),t._v(" "),a("h2",{attrs:{id:"reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" reference")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/43263751",target:"_blank",rel:"noopener noreferrer"}},[t._v("详解布隆过滤器的原理，使用场景和注意事项"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://hackernoon.com/probabilistic-data-structures-bloom-filter-5374112a7832",target:"_blank",rel:"noopener noreferrer"}},[t._v("Probabilistic Data structures: Bloom filter"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jasondavies.com/bloomfilter/",target:"_blank",rel:"noopener noreferrer"}},[t._v("演示动画"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.di-mgt.com.au/bloom-calculator.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("计算概率的form"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://people.eecs.berkeley.edu/~daw/teaching/cs170-s03/Notes/lecture10.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("推导过程"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/gaoyueace/article/details/90410735",target:"_blank",rel:"noopener noreferrer"}},[t._v("中文推导过程"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://pages.cs.wisc.edu/~cao/papers/summary-cache/node8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("概率矩阵"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=s.exports}}]);